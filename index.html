<!DOCTYPE html>
<html>
<head>
    <title>Space Builder Online</title>
    <style>
        body { background-color: #1a1a2e; color: white; font-family: Courier, monospace; margin: 0; display: flex; height: 100vh; }
        
        /* SIDEBAR (Parts List) */
        #sidebar { width: 250px; background: #16213e; border-right: 2px solid #0f3460; padding: 10px; display: flex; flex-direction: column; }
        .part-btn { 
            background: #0f3460; color: white; border: 1px solid white; 
            padding: 15px; margin-bottom: 10px; cursor: pointer; text-align: left;
            transition: 0.2s;
        }
        .part-btn:hover { background: #533483; }
        .part-stats { font-size: 10px; color: #ccc; }

        /* BUILD GRID (Where you stack rocket) */
        #blueprint-area { flex-grow: 1; position: relative; background-image: radial-gradient(#333 1px, transparent 1px); background-size: 20px 20px; overflow: hidden; }
        
        /* ROCKET PARTS ON GRID */
        .placed-part {
            width: 100px; position: absolute; left: 50%; transform: translateX(-50%);
            border: 2px solid white; display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: black;
        }

        /* UI OVERLAY */
        #ui-layer { position: absolute; top: 10px; right: 10px; text-align: right; }
        button#launch-btn { background: #e94560; color: white; font-size: 20px; padding: 10px 30px; border: none; cursor: pointer; font-weight: bold; }
        
        /* STATS PANEL */
        #ship-stats { margin-top: 20px; border-top: 1px solid grey; padding-top: 10px; }
    </style>
</head>
<body>

    <div id="sidebar">
        <h3>ROCKET PARTS</h3>
        <div class="part-btn" onclick="addPart('capsule')">
            COMMAND CAPSULE
            <div class="part-stats">Crew: 3 | O2: 100%</div>
        </div>
        <div class="part-btn" onclick="addPart('fuel_small')">
            SMALL FUEL TANK
            <div class="part-stats">Fuel: 500L | Mass: 2t</div>
        </div>
        <div class="part-btn" onclick="addPart('booster')">
            MAIN BOOSTER
            <div class="part-stats">Thrust: 45 | Fuel: -5/s</div>
        </div>
        <div class="part-btn" onclick="addPart('solar')">
            SOLAR PANEL
            <div class="part-stats">Power Gen: +2/s</div>
        </div>

        <div id="ship-stats">
            <h4>SHIP STATS</h4>
            <p>Astronauts: <span id="crew-count">0</span>/3</p>
            <p>Oxygen: <span id="o2-stat">0</span></p>
            <p>Mass: <span id="mass-stat">0</span> tons</p>
            <p>Height: <span id="height-stat">0</span> m</p>
        </div>
    </div>

    <div id="blueprint-area">
        </div>

    <div id="ui-layer">
        <button id="launch-btn" onclick="launchRocket()">LAUNCH ROCKET</button>
        <p>Server Status: <span style="color:green">Online</span></p>
    </div>

    <script>
        let rocketParts = [];
        let totalMass = 0;
        let totalCrew = 0;
        let totalO2 = 0;
        let currentHeight = 50; // Start at bottom of screen

        // DEFINITION OF PARTS (Data from your notes)
        const partsData = {
            'capsule': { h: 60, color: '#bdc3c7
